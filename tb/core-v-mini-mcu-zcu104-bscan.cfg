adapter driver ftdi 	
adapter speed 1000
transport select jtag

# FT4232H Adapter zcu104
ftdi vid_pid 0x0403 0x6011

ftdi channel 0
ftdi layout_init 0x00e8 0x60eb


reset_config none

echo "ftdi setting..."

# target list
set _CHIPNAME riscv


set _CHIPNAME riscv
jtag newtap arm_dap_1 tap -irlen 4 -expected-id 0x5ba00477
jtag newtap $_CHIPNAME cpu -irlen 12 -expected-id 0x14730093

set _TARGETNAME $_CHIPNAME.cpu
target create $_TARGETNAME riscv -chain-position $_TARGETNAME -coreid 0x000

echo "target created..."

# log_output openocd_fpga.log

riscv set_ir idcode 0x2492
riscv set_ir dtmcs 0x8a49
riscv set_ir dmi 0x8e49

riscv set_reset_timeout_sec 2000
riscv set_command_timeout_sec 2000

echo "setting preferences..."

scan_chain

init

echo "init routine started"

halt

echo "Ready for Remote Connections"
